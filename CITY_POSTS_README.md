# Polish Cities Grammar System & Dynamic Content Generation

This system provides comprehensive support for Polish grammatical cases and automatic content generation for city-based landing pages.

## 🌟 Features

### 1. Polish Grammar Engine

- **Complete declension system** for all major Polish cities
- **7 grammatical cases** (nominative, genitive, dative, accusative, instrumental, locative, vocative)
- **Natural language content** generation using proper Polish grammar

### 2. Dynamic Page Generation

- **130+ Polish cities** with automatic slug generation
- **SEO-optimized content** with unique titles and descriptions for each city
- **Database integration** for persistent storage
- **Fallback system** for real-time content generation

### 3. Example URLs

```
http://localhost:3000/oferta/strona-internetowa-warszawa
http://localhost:3000/oferta/strona-internetowa-krakow
http://localhost:3000/oferta/strona-internetowa-czestochowa
http://localhost:3000/oferta/strona-internetowa-gdansk
```

## 🚀 Usage

### Manual Generation via Admin Panel

1. Visit `/admin/city-posts`
2. Click "Generuj Wszystkie Posty" to generate all city posts
3. Or generate individual posts for testing

### API Generation

```bash
# Generate all city posts
curl -X POST "http://localhost:3000/api/generate-city-posts?action=generate-all" \
  -H "Authorization: Bearer your-api-key"

# Generate single city post
curl -X POST "http://localhost:3000/api/generate-city-posts?action=generate-single&city=warszawa" \
  -H "Authorization: Bearer your-api-key"

# List all available cities
curl "http://localhost:3000/api/generate-city-posts?action=list-cities"
```

## 📝 Grammar Examples

### Grudziądz Declension

```
Mianownik (kto? co?): Grudziądz
Dopełniacz (kogo? czego?): Grudziądza
Celownik (komu? czemu?): Grudziądzowi
Biernik (kogo? co?): Grudziądz
Narzędnik (z kim? z czym?): Grudziądzem
Miejscownik (o kim? o czym?): Grudziądzu
Wołacz (o!): Grudziądzu
```

### Content Usage Examples

```typescript
// "Strona internetowa w Grudziądzu" (locative)
cityContent.contexts.location;

// "Dla mieszkańców Grudziądza" (genitive)
cityContent.phrases.forResidents;

// "Obsługujemy Grudziądz" (accusative)
cityContent.phrases.servingCity;
```

## 🛠️ Technical Architecture

### Database Structure

```typescript
Post {
  postId: string;
  title: string;
  slug: string;
  citySlug?: string;          // e.g., "grudziadz"
  isAutogenerated?: boolean;  // true for city posts
  // ... other fields
}
```

### Content Generation Flow

1. **Check Database** - Look for existing city post
2. **Generate if Missing** - Create content using grammar engine
3. **Fallback Generation** - Real-time content for missing posts
4. **SEO Optimization** - Unique metadata per city

### Files Structure

```
lib/
├── polishCities.ts        # Grammar engine & city data
├── cityPostGenerator.ts   # Content generation logic
└── contentGenerator.ts    # Advanced content variations

app/
├── oferta/[slug]/page.tsx # Main page component
├── admin/city-posts/      # Admin management panel
└── api/generate-city-posts/ # API endpoints

types.ts                   # Extended Post type
```

## 🎯 SEO Benefits

- **Unique URLs** for each city (130+ pages)
- **Localized content** with proper Polish grammar
- **City-specific keywords** and meta descriptions
- **Structured data** with FAQ sections
- **Automatic sitemap** generation

## 📊 Content Quality

Each city page includes:

- **Localized headlines** using proper grammatical cases
- **City-specific FAQ** sections
- **Local business positioning** phrases
- **Call-to-action** elements adapted to local context
- **Structured content** with proper HTML semantics

## 🔧 Configuration

### Environment Variables

```env
ADMIN_API_KEY=your-secret-key  # For API authentication
SITE_URL=https://quixy.pl      # For sitemap generation
```

### Customization

- Add more cities in `polishCities.ts`
- Modify content templates in `cityPostGenerator.ts`
- Adjust grammar rules in the declension system

## 🚀 Deployment

The system works with:

- **Static Generation** via `generateStaticParams`
- **ISR (Incremental Static Regeneration)** for updates
- **Dynamic fallbacks** for missing content
- **Database persistence** for generated content

## 🎨 Advanced Features

### Content Variations

Generate multiple versions of the same content:

```typescript
const variations = generatePageVariations("warszawa", 3);
// Returns 3 different content variations for A/B testing
```

### Bulk Operations

```typescript
// Generate all city posts at once
await generateAndSaveAllCityPosts();

// Update specific city content
await updateCityPost("krakow");
```

This system provides a scalable foundation for creating localized content at scale while maintaining high-quality Polish language standards.
