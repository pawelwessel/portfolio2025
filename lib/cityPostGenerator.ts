import { Post } from "@/types";
import {
  polishCities,
  getCityInCase,
  PolishCase,
  generateCityContent,
} from "./polishCities";
import { addDocument } from "@/common/firebase/quixy";

// Generate a single city-based post
export function generateCityPost(citySlug: string): Post {
  const cityContent = generateCityContent(citySlug);
  const cityName = getCityInCase(citySlug, PolishCase.NOMINATIVE);
  const cityGenitive = getCityInCase(citySlug, PolishCase.GENITIVE);
  const cityLocative = getCityInCase(citySlug, PolishCase.LOCATIVE);

  if (!cityContent) {
    throw new Error(`No content available for city: ${citySlug}`);
  }

  const currentDate = Date.now();
  const postId = `tworzenie-stron-internetowych-${citySlug}-cennik`;
  const slug = `tworzenie-stron-internetowych-${citySlug}-cennik`;
  console.log(cityContent);
  return {
    postId,
    title: `${cityContent.phrases.webDesignService} - Cennik`,
    metaTitle: `${cityContent.phrases.webDesignService} - Cennik`,
    metaDescription: `${
      cityContent.phrases.welcomeCity
    } ${cityContent.phrases.webDesignService.toLowerCase()}. Nowoczesne, responsywne strony WWW. Szybka realizacja, konkurencyjne ceny. SprawdÅº naszÄ… ofertÄ™!`,
    metaKeywords: [
      `strona internetowa ${citySlug}`,
      `tworzenie stron ${citySlug}`,
      `projektowanie stron ${citySlug}`,
      `strony www ${citySlug}`,
      `web design ${citySlug}`,
      "quixy studio",
    ],
    intro: `Czy wiesz, Å¼e ponad 70% klientÃ³w sprawdza stronÄ™ internetowÄ… firmy przed pierwszym kontaktem? W dzisiejszych czasach profesjonalna strona WWW to nie luksus, ale koniecznoÅ›Ä‡. ${cityName} to dynamiczne miasto, gdzie konkurencja jest duÅ¼a, a pierwsze wraÅ¼enie ma ogromne znaczenie. Quixy Studio pomoÅ¼e Ci wyrÃ³Å¼niÄ‡ siÄ™ z tÅ‚umu dziÄ™ki nowoczesnej, funkcjonalnej stronie internetowej, ktÃ³ra przyciÄ…gnie nowych klientÃ³w i zwiÄ™kszy sprzedaÅ¼.`,
    outro: `Nie czekaj, aÅ¼ Twoi konkurenci CiÄ™ wyprzedzÄ…! KaÅ¼dy dzieÅ„ bez profesjonalnej strony internetowej to stracone moÅ¼liwoÅ›ci biznesowe. ${cityContent.allForms.nominative} to miasto peÅ‚ne potencjalnych klientÃ³w, ktÃ³rzy szukajÄ… Twoich usÅ‚ug online. Skontaktuj siÄ™ z nami juÅ¼ dziÅ› i doÅ‚Ä…cz do grona zadowolonych firm, ktÃ³re dziÄ™ki nam zwiÄ™kszyÅ‚y swojÄ… sprzedaÅ¼ o Å›rednio 40%. Pierwsza konsultacja jest bezpÅ‚atna!`,
    mainImage: "/assets/earth.jpg",
    images: ["/assets/earth.jpg"],
    creationTime: currentDate,
    readTime: 5,
    viewerCount: Math.floor(Math.random() * 500) + 100,
    tags: [
      "strona internetowa",
      "web design",
      "responsywnoÅ›Ä‡",
      citySlug,
      "quixy studio",
    ],
    url: slug,
    slug: slug,
    blogType: "city-landing",
    citySlug: citySlug,
    isAutogenerated: true,
    sections: [
      {
        title: `Dlaczego Firmy ${cityContent.contexts.origin} WybierajÄ… Quixy Studio?`,
        content: `
          <p>W ciÄ…gu ostatnich 5 lat pomogliÅ›my ponad 500 firmom w caÅ‚ej Polsce osiÄ…gnÄ…Ä‡ sukces online. Oto co wyrÃ³Å¼nia nas na tle konkurencji:</p>
          <ul>
            <li><strong>ğŸ¨ Nowoczesny design, ktÃ³ry sprzedaje</strong> - Nie tworzymy "Å‚adnych" stron, ale strony, ktÃ³re generujÄ… wyniki. KaÅ¼dy element jest przemyÅ›lany pod kÄ…tem konwersji.</li>
            <li><strong>ğŸ“± PeÅ‚na responsywnoÅ›Ä‡</strong> - Ponad 60% ruchu pochodzi z urzÄ…dzeÅ„ mobilnych. Nasze strony dziaÅ‚ajÄ… perfekcyjnie na kaÅ¼dym urzÄ…dzeniu.</li>
            <li><strong>ğŸš€ Optymalizacja pod kÄ…tem Google</strong> - Strony sÄ… budowane z myÅ›lÄ… o SEO od samego poczÄ…tku. Nasi klienci widzÄ… wzrost ruchu organicznego o Å›rednio 150%.</li>
            <li><strong>âš¡ BÅ‚yskawiczna szybkoÅ›Ä‡ Å‚adowania</strong> - Strony Å‚adujÄ… siÄ™ w mniej niÅ¼ 3 sekundy. Google nagradza szybkie strony wyÅ¼szÄ… pozycjÄ… w wynikach wyszukiwania.</li>
            <li><strong>ğŸ¤ Lokalne wsparcie i zrozumienie</strong> - ${cityContent.phrases.forResidents}. Znamy specyfikÄ™ lokalnego rynku i wiemy, czego potrzebujÄ… firmy z Twojego regionu.</li>
            <li><strong>ğŸ’° Transparentne ceny bez ukrytych kosztÃ³w</strong> - Otrzymujesz dokÅ‚adnÄ… wycenÄ™ na poczÄ…tku. Bez niespodzianek, bez dodatkowych opÅ‚at.</li>
          </ul>
          <p><strong>Fakt:</strong> Firmy z profesjonalnÄ… stronÄ… internetowÄ… zarabiajÄ… Å›rednio o 40% wiÄ™cej niÅ¼ te bez niej. Czy Twoja firma moÅ¼e sobie pozwoliÄ‡ na pozostanie w tyle?</p>
        `,
        id: 1,
      },
      {
        title: `Kompleksowa Oferta ${cityContent.contexts.target} - Od PomysÅ‚u do Sukcesu`,
        content: `
          <p>KaÅ¼da firma jest inna, dlatego oferujemy szerokÄ… gamÄ™ rozwiÄ…zaÅ„ dostosowanych do Twoich potrzeb i budÅ¼etu:</p>
          
          <h3>ğŸ¢ Strony WizytÃ³wkowe (od 1 500 zÅ‚)</h3>
          <p>Idealne dla freelancerÃ³w, maÅ‚ych firm i usÅ‚ugodawcÃ³w. ZawierajÄ… wszystkie niezbÄ™dne informacje: kontakt, ofertÄ™, galeriÄ™ prac i formularz kontaktowy. <strong>Gotowe w 2 tygodnie!</strong></p>
          
          <h3>ğŸ­ Strony Firmowe (od 3 000 zÅ‚)</h3>
          <p>Profesjonalna prezentacja Å›rednich i duÅ¼ych firm. WiÄ™cej sekcji, zaawansowane funkcje, integracje z systemami CRM. <strong>Idealne dla firm, ktÃ³re chcÄ… zaimponowaÄ‡ klientom.</strong></p>
          
          <h3>ğŸ›’ Sklepy Internetowe (od 5 000 zÅ‚)</h3>
          <p>PeÅ‚noprawny sklep online z systemem pÅ‚atnoÅ›ci, zarzÄ…dzaniem zamÃ³wieniami i inwentarzem. <strong>Nasi klienci zwiÄ™kszajÄ… sprzedaÅ¼ online Å›rednio o 200%!</strong></p>
          
          <h3>ğŸ“ Blogi i Portale (od 2 500 zÅ‚)</h3>
          <p>System zarzÄ…dzania treÅ›ciÄ…, ktÃ³ry pozwala na Å‚atwe dodawanie artykuÅ‚Ã³w, galerii i aktualnoÅ›ci. <strong>Idealne dla firm, ktÃ³re chcÄ… budowaÄ‡ autorytet w branÅ¼y.</strong></p>
          
          <h3>âš™ï¸ Aplikacje Webowe (od 8 000 zÅ‚)</h3>
          <p>Zaawansowane rozwiÄ…zania dla wymagajÄ…cych projektÃ³w: systemy rezerwacji, platformy e-learning, panele administracyjne. <strong>Tworzymy rozwiÄ…zania szyte na miarÄ™.</strong></p>
          
          <p><strong>ğŸ’¡ Nie wiesz, czego potrzebujesz?</strong> BezpÅ‚atna konsultacja pomoÅ¼e Ci wybraÄ‡ najlepsze rozwiÄ…zanie dla Twojej firmy!</p>
        `,
        id: 2,
      },
      {
        title: "Jak WyglÄ…da Nasz Proces Pracy?",
        content: `
          <p>W Quixy Studio wierzymy w transparentnoÅ›Ä‡ i regularnÄ… komunikacjÄ™. Oto jak wyglÄ…da nasza wspÃ³Å‚praca krok po kroku:</p>
          
          <h3>ğŸ“ 1. BezpÅ‚atna Konsultacja (1-2 dni)</h3>
          <p>Rozmawiamy o Twoich celach biznesowych, grupie docelowej i budÅ¼ecie. Na podstawie tej rozmowy przygotowujemy szczegÃ³Å‚owÄ… wycenÄ™ i harmonogram prac. <strong>Bez zobowiÄ…zaÅ„, bez ukrytych kosztÃ³w.</strong></p>
          
          <h3>ğŸ¨ 2. Projektowanie i Prototyp (1-2 tygodnie)</h3>
          <p>Tworzymy unikalny design dopasowany do Twojej marki. Otrzymujesz 2-3 wersje do wyboru. Wszystkie zmiany sÄ… bezpÅ‚atne do momentu akceptacji projektu. <strong>Twoja opinia ma kluczowe znaczenie!</strong></p>
          
          <h3>ğŸ’» 3. Programowanie i RozwÃ³j (2-4 tygodnie)</h3>
          <p>Nasz zespÃ³Å‚ programistÃ³w koduje stronÄ™ z dbaÅ‚oÅ›ciÄ… o kaÅ¼dy detal. Strona jest budowana z myÅ›lÄ… o szybkoÅ›ci, SEO i bezpieczeÅ„stwie. <strong>Regularnie informujemy CiÄ™ o postÄ™pach.</strong></p>
          
          <h3>ğŸ§ª 4. Testowanie i Optymalizacja (3-5 dni)</h3>
          <p>Sprawdzamy dziaÅ‚anie na wszystkich urzÄ…dzeniach i przeglÄ…darkach. Optymalizujemy szybkoÅ›Ä‡ Å‚adowania i pozycjonowanie w Google. <strong>KaÅ¼da strona przechodzi przez 50+ testÃ³w jakoÅ›ci.</strong></p>
          
          <h3>ğŸš€ 5. WdroÅ¼enie i Szkolenie (1-2 dni)</h3>
          <p>Publikujemy stronÄ™ i przekazujemy Ci peÅ‚nÄ… kontrolÄ™. Szkolimy CiÄ™ z obsÅ‚ugi panelu administracyjnego. <strong>Otrzymujesz wszystkie hasÅ‚a i instrukcje.</strong></p>
          
          <h3>ğŸ¤ 6. Wsparcie i RozwÃ³j (bez ograniczeÅ„)</h3>
          <p>Zapewniamy 3 miesiÄ…ce bezpÅ‚atnego wsparcia technicznego. Pomagamy w aktualizacjach, backupach i optymalizacji. <strong>JesteÅ›my dostÄ™pni 24/7 w przypadku problemÃ³w.</strong></p>
          
          <p><strong>â±ï¸ CaÅ‚kowity czas realizacji:</strong> 4-6 tygodni (w zaleÅ¼noÅ›ci od zÅ‚oÅ¼onoÅ›ci projektu)</p>
        `,
        id: 3,
      },
      {
        title: `Dlaczego Firmy ${cityContent.contexts.origin} WybierajÄ… Lokalnego Partnera?`,
        content: `
          <p>${cityContent.phrases.localBusiness} z wieloletnim doÅ›wiadczeniem w branÅ¼y IT. ${cityContent.phrases.servingCity} od 2019 roku, pomagajÄ…c firmom w cyfrowej transformacji. Oto dlaczego lokalne wsparcie ma znaczenie:</p>
          
          <h3>ğŸ¢ BezpoÅ›redni Kontakt i Spotkania</h3>
          <p>MoÅ¼emy spotkaÄ‡ siÄ™ osobiÅ›cie ${cityContent.contexts.location} lub okolicach. BezpoÅ›rednia rozmowa pozwala lepiej zrozumieÄ‡ Twoje potrzeby i szybciej rozwiÄ…zaÄ‡ problemy. <strong>Nie musisz czekaÄ‡ na odpowiedÅº z drugiego koÅ„ca Polski!</strong></p>
          
          <h3>â­ Lokalne Referencje i Opinie</h3>
          <p>SprawdÅº opinie naszych klientÃ³w z ${cityGenitive} i okolic. Wiele firm z Twojego regionu juÅ¼ nam zaufaÅ‚o i osiÄ…gnÄ™Å‚o sukces online. <strong>MoÅ¼emy przedstawiÄ‡ Ci konkretne przykÅ‚ady naszych realizacji.</strong></p>
          
          <h3>âš¡ Szybka Reakcja i Wsparcie</h3>
          <p>Wsparcie techniczne dostÄ™pne dla firm z ${cityGenitive} w ciÄ…gu 24 godzin. W przypadku pilnych problemÃ³w jesteÅ›my na miejscu. <strong>ZnajomoÅ›Ä‡ lokalnego rynku pozwala nam lepiej zrozumieÄ‡ Twoje potrzeby.</strong></p>
          
          <h3>ğŸ¯ ZnajomoÅ›Ä‡ Lokalnego Rynku</h3>
          <p>Rozumiemy specyfikÄ™ biznesu ${cityContent.contexts.location}, konkurencjÄ™ i oczekiwania klientÃ³w. Wiemy, jakie rozwiÄ…zania sprawdzajÄ… siÄ™ w Twoim regionie. <strong>To daje Ci przewagÄ™ nad konkurencjÄ…!</strong></p>
          
          <h3>ğŸ¤ DÅ‚ugoterminowa WspÃ³Å‚praca</h3>
          <p>Nie jesteÅ›my jednorazowym wykonawcÄ…. Budujemy dÅ‚ugoterminowe relacje z naszymi klientami, pomagajÄ…c im rozwijaÄ‡ siÄ™ online. <strong>TwÃ³j sukces to nasz sukces!</strong></p>
          
          <p><strong>ğŸ’¼ DoÅ‚Ä…cz do grona zadowolonych firm ${cityContent.contexts.location}!</strong> Skontaktuj siÄ™ z nami i przekonaj siÄ™, dlaczego lokalne wsparcie ma znaczenie.</p>
        `,
        id: 4,
      },
    ],
    faq: [
      {
        question: `Ile kosztuje profesjonalna strona internetowa ${cityContent.contexts.location}?`,
        answer: `Ceny sÄ… bardzo konkurencyjne w porÃ³wnaniu do innych agencji! Strona wizytÃ³wkowa zaczyna siÄ™ od 1 500 zÅ‚, strona firmowa od 3 000 zÅ‚, a sklep internetowy od 5 000 zÅ‚. ${cityContent.phrases.forResidents} oferujemy dodatkowe rabaty i moÅ¼liwoÅ›Ä‡ pÅ‚atnoÅ›ci ratalnej. PamiÄ™taj - inwestycja w profesjonalnÄ… stronÄ™ zwraca siÄ™ Å›rednio w ciÄ…gu 3-6 miesiÄ™cy dziÄ™ki zwiÄ™kszonej sprzedaÅ¼y!`,
      },
      {
        question: "Jak dÅ‚ugo muszÄ™ czekaÄ‡ na gotowÄ… stronÄ™ internetowÄ…?",
        answer: `SzybkoÅ›Ä‡ realizacji to nasza mocna strona! Prosta strona wizytÃ³wkowa jest gotowa w 2-3 tygodnie, strona firmowa w 3-4 tygodnie, a sklep internetowy w 4-6 tygodni. Dla klientÃ³w z ${cityGenitive} oferujemy priorytetowe terminy. Wszystko zaleÅ¼y od zÅ‚oÅ¼onoÅ›ci projektu - dokÅ‚adny harmonogram otrzymasz po bezpÅ‚atnej konsultacji.`,
      },
      {
        question: "Czy muszÄ™ martwiÄ‡ siÄ™ o hosting, domenÄ™ i SSL?",
        answer:
          "Absolutnie nie! Oferujemy kompleksowe usÅ‚ugi - zajmujemy siÄ™ wszystkim za Ciebie. Obejmuje to hosting, domenÄ™, certyfikat SSL, backup danych i aktualizacje bezpieczeÅ„stwa. MoÅ¼esz teÅ¼ skorzystaÄ‡ z wÅ‚asnego hostingu - pomoÅ¼emy w konfiguracji. Pierwszy miesiÄ…c hostingu gratis!",
      },
      {
        question: "Czy moja strona bÄ™dzie dziaÅ‚aÄ‡ na telefonie i tablecie?",
        answer:
          "OczywiÅ›cie! Ponad 60% uÅ¼ytkownikÃ³w przeglÄ…da strony na urzÄ…dzeniach mobilnych. Wszystkie nasze strony sÄ… w 100% responsywne i dziaÅ‚ajÄ… perfekcyjnie na kaÅ¼dym urzÄ…dzeniu. Google nagradza responsywne strony wyÅ¼szÄ… pozycjÄ… w wynikach wyszukiwania, wiÄ™c to podwÃ³jna korzyÅ›Ä‡!",
      },
      {
        question: "Czy bÄ™dÄ™ mÃ³gÅ‚ samodzielnie edytowaÄ‡ treÅ›ci na stronie?",
        answer:
          "Tak! KaÅ¼da strona ma intuicyjny panel administracyjny, ktÃ³ry obsÅ‚ugujesz jak Facebook. MoÅ¼esz dodawaÄ‡ zdjÄ™cia, edytowaÄ‡ teksty, tworzyÄ‡ nowe strony i zarzÄ…dzanie blogiem. Szkolimy CiÄ™ z obsÅ‚ugi i przygotowujemy instrukcjÄ™ krok po kroku. JeÅ›li masz problemy - pomagamy zdalnie!",
      },
      {
        question: `Czy oferujecie wsparcie techniczne dla firm ${cityContent.contexts.origin}?`,
        answer: `Tak! To jedna z naszych najwiÄ™kszych zalet. ${cityContent.phrases.forResidents} zapewniamy peÅ‚ne wsparcie techniczne przez 3 miesiÄ…ce gratis. MoÅ¼emy spotkaÄ‡ siÄ™ osobiÅ›cie ${cityContent.contexts.location} lub pomÃ³c zdalnie. JesteÅ›my dostÄ™pni 24/7 w przypadku pilnych problemÃ³w. Lokalne wsparcie to nasza specjalnoÅ›Ä‡!`,
      },
      {
        question: "Co jeÅ›li nie bÄ™dÄ™ zadowolony z projektu?",
        answer:
          "W Quixy Studio gwarantujemy 100% satysfakcjÄ™! JeÅ›li nie bÄ™dziesz zadowolony z projektu, zwracamy pieniÄ…dze. Wszystkie zmiany w fazie projektowania sÄ… bezpÅ‚atne. Do tej pory 99,8% naszych klientÃ³w byÅ‚o w peÅ‚ni zadowolonych z rezultatÃ³w. TwÃ³j sukces to nasz priorytet!",
      },
      {
        question: "Czy pomoÅ¼ecie mi w pozycjonowaniu strony w Google?",
        answer:
          "OczywiÅ›cie! KaÅ¼da strona jest budowana z myÅ›lÄ… o SEO od samego poczÄ…tku. Optymalizujemy szybkoÅ›Ä‡ Å‚adowania, strukturÄ™, meta tagi i treÅ›ci. Nasi klienci widzÄ… wzrost ruchu organicznego o Å›rednio 150% w ciÄ…gu 6 miesiÄ™cy. Oferujemy teÅ¼ dodatkowe usÅ‚ugi SEO i Google Ads. WidocznoÅ›Ä‡ w Google to nasza specjalnoÅ›Ä‡!",
      },
    ],
  };
}

// Generate all city posts and save to database
export async function generateAndSaveAllCityPosts(): Promise<void> {
  const results = {
    success: 0,
    errors: 0,
    total: polishCities.length,
  };

  for (const citySlug of polishCities) {
    try {
      const post = generateCityPost(citySlug);
      // Here you would save the post to your database

      results.success++;
    } catch (error) {
      results.errors++;
    }
  }
}

// Check if city post exists in database
export async function cityPostExists(citySlug: string): Promise<boolean> {
  try {
    // This would need to be implemented based on your database query capabilities
    // For now, return false to always generate new posts
    return false;
  } catch (error) {
    console.error(`Error checking if city post exists for ${citySlug}:`, error);
    return false;
  }
}

// Generate a specific city post if it doesn't exist
export async function generateCityPostIfNeeded(
  citySlug: string
): Promise<Post | null> {
  try {
    const exists = await cityPostExists(citySlug);

    if (!exists) {
      const post = generateCityPost(citySlug);
      return post;
    }

    return null;
  } catch (error) {
    console.error(`Error generating city post for ${citySlug}:`, error);
    return null;
  }
}

// Update existing city posts with new content
export async function updateCityPost(citySlug: string): Promise<void> {
  try {
    const post = generateCityPost(citySlug);
  } catch (error) {}
}
